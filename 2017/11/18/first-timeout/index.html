<!DOCTYPE html>
<html lang=zh>
<head>
    <meta charset="utf-8">
    
    <title>Spring Cloud æœåŠ¡ç¬¬ä¸€æ¬¡è¯·æ±‚è¶…æ—¶çš„ä¼˜åŒ– | Aoho&#39;s Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="1. é—®é¢˜èƒŒæ™¯ä½¿ç”¨Spring Cloudç»„ä»¶æ„å»ºçš„æœåŠ¡é›†ç¾¤ï¼Œåœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶ç»å¸¸ä¼šå‡ºç°timeoutçš„æƒ…å†µï¼Œç„¶è€Œç¬¬äºŒæ¬¡å°±æ­£å¸¸äº†ã€‚Spring Cloudç‰ˆæœ¬ä¸ºDalston.SR4ã€‚ å¯åŠ¨æ¶‰åŠåˆ°çš„ç›¸å…³æœåŠ¡ï¼š  gateway(zuulç½‘å…³) auth-Serviceï¼ˆé‰´æƒæœåŠ¡ï¼‰ user-Serviceï¼ˆç”¨æˆ·æœåŠ¡ï¼‰  æµ‹è¯•çš„ç«¯ç‚¹æ¥å£ä¸ºï¼šhttp:/login/oauth/tokenã€‚æœåŠ¡ä¹‹é—´çš„è°ƒç”¨">
<meta name="keywords" content="Spring Cloud,Ribbon">
<meta property="og:type" content="article">
<meta property="og:title" content="Spring Cloud æœåŠ¡ç¬¬ä¸€æ¬¡è¯·æ±‚è¶…æ—¶çš„ä¼˜åŒ–">
<meta property="og:url" content="http://blueskykong.com/2017/11/18/first-timeout/index.html">
<meta property="og:site_name" content="Aoho&#39;s Blog">
<meta property="og:description" content="1. é—®é¢˜èƒŒæ™¯ä½¿ç”¨Spring Cloudç»„ä»¶æ„å»ºçš„æœåŠ¡é›†ç¾¤ï¼Œåœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶ç»å¸¸ä¼šå‡ºç°timeoutçš„æƒ…å†µï¼Œç„¶è€Œç¬¬äºŒæ¬¡å°±æ­£å¸¸äº†ã€‚Spring Cloudç‰ˆæœ¬ä¸ºDalston.SR4ã€‚ å¯åŠ¨æ¶‰åŠåˆ°çš„ç›¸å…³æœåŠ¡ï¼š  gateway(zuulç½‘å…³) auth-Serviceï¼ˆé‰´æƒæœåŠ¡ï¼‰ user-Serviceï¼ˆç”¨æˆ·æœåŠ¡ï¼‰  æµ‹è¯•çš„ç«¯ç‚¹æ¥å£ä¸ºï¼šhttp:/login/oauth/tokenã€‚æœåŠ¡ä¹‹é—´çš„è°ƒç”¨">
<meta property="og:image" content="http://ovcjgn2x0.bkt.clouddn.com/gw-not-eager.jpg">
<meta property="og:image" content="http://ovcjgn2x0.bkt.clouddn.com/gw-second.jpg">
<meta property="og:image" content="http://ovcjgn2x0.bkt.clouddn.com/lazy-load.jpg">
<meta property="og:image" content="http://ovcjgn2x0.bkt.clouddn.com/eager-load.jpg">
<meta property="og:updated_time" content="2017-11-19T09:13:48.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Spring Cloud æœåŠ¡ç¬¬ä¸€æ¬¡è¯·æ±‚è¶…æ—¶çš„ä¼˜åŒ–">
<meta name="twitter:description" content="1. é—®é¢˜èƒŒæ™¯ä½¿ç”¨Spring Cloudç»„ä»¶æ„å»ºçš„æœåŠ¡é›†ç¾¤ï¼Œåœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶ç»å¸¸ä¼šå‡ºç°timeoutçš„æƒ…å†µï¼Œç„¶è€Œç¬¬äºŒæ¬¡å°±æ­£å¸¸äº†ã€‚Spring Cloudç‰ˆæœ¬ä¸ºDalston.SR4ã€‚ å¯åŠ¨æ¶‰åŠåˆ°çš„ç›¸å…³æœåŠ¡ï¼š  gateway(zuulç½‘å…³) auth-Serviceï¼ˆé‰´æƒæœåŠ¡ï¼‰ user-Serviceï¼ˆç”¨æˆ·æœåŠ¡ï¼‰  æµ‹è¯•çš„ç«¯ç‚¹æ¥å£ä¸ºï¼šhttp:/login/oauth/tokenã€‚æœåŠ¡ä¹‹é—´çš„è°ƒç”¨">
<meta name="twitter:image" content="http://ovcjgn2x0.bkt.clouddn.com/gw-not-eager.jpg">
    

    
        <link rel="alternate" href="/" title="Aoho&#39;s Blog" type="application/atom+xml" />
    

    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/2.1.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    
    


</head>

<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                <i class="logo"></i>
                <span class="site-title">Aoho&#39;s Blog</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/.">Home</a>
                
                    <a class="main-nav-link" href="/archives">Archives</a>
                
                    <a class="main-nav-link" href="/categories">Categories</a>
                
                    <a class="main-nav-link" href="/tags">Tags</a>
                
                    <a class="main-nav-link" href="/about">About</a>
                
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="/uploads/avatar.jpg" />
                            <i class="fa fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/.">Home</a></td>
                
                    <td><a class="main-nav-link" href="/archives">Archives</a></td>
                
                    <td><a class="main-nav-link" href="/categories">Categories</a></td>
                
                    <td><a class="main-nav-link" href="/tags">Tags</a></td>
                
                    <td><a class="main-nav-link" href="/about">About</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
                

<aside id="profile">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="/uploads/avatar.jpg" />
            <h2 id="name">aoho</h2>
            <h3 id="title">Developer</h3>
            <span id="location"><i class="fa fa-map-marker"></i>China</span>
            <a id="follow" target="_blank" href="https://github.com/keets2012">FOLLOW</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                32
                <span>posts</span>
            </div>
            <div class="article-info-block">
                37
                <span>tags</span>
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    
                    <td>
                        <a href="http://github.com/ppoffice/hexo-theme-icarus" target="_blank" title="github" class=tooltip>
                            <i class="fa fa-github"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="twitter" class=tooltip>
                            <i class="fa fa-twitter"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="facebook" class=tooltip>
                            <i class="fa fa-facebook"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="dribbble" class=tooltip>
                            <i class="fa fa-dribbble"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="rss" class=tooltip>
                            <i class="fa fa-rss"></i>
                        </a>
                    </td>
                    
                </tr>
            </table>
        </div>
        
    </div>
</aside>

            
            <section id="main"><article id="post-first-timeout" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
            Spring Cloud æœåŠ¡ç¬¬ä¸€æ¬¡è¯·æ±‚è¶…æ—¶çš„ä¼˜åŒ–
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2017/11/18/first-timeout/">
            <time datetime="2017-11-17T16:00:00.000Z" itemprop="datePublished">2017-11-18</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/å¾®æœåŠ¡/">å¾®æœåŠ¡</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/Ribbon/">Ribbon</a>, <a class="tag-link" href="/tags/Spring-Cloud/">Spring Cloud</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <h2 id="1-é—®é¢˜èƒŒæ™¯"><a href="#1-é—®é¢˜èƒŒæ™¯" class="headerlink" title="1. é—®é¢˜èƒŒæ™¯"></a>1. é—®é¢˜èƒŒæ™¯</h2><p>ä½¿ç”¨Spring Cloudç»„ä»¶æ„å»ºçš„æœåŠ¡é›†ç¾¤ï¼Œåœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶ç»å¸¸ä¼šå‡ºç°timeoutçš„æƒ…å†µï¼Œç„¶è€Œç¬¬äºŒæ¬¡å°±æ­£å¸¸äº†ã€‚Spring Cloudç‰ˆæœ¬ä¸ºDalston.SR4ã€‚</p>
<p>å¯åŠ¨æ¶‰åŠåˆ°çš„ç›¸å…³æœåŠ¡ï¼š</p>
<ul>
<li>gateway(zuulç½‘å…³)</li>
<li>auth-Serviceï¼ˆé‰´æƒæœåŠ¡ï¼‰</li>
<li>user-Serviceï¼ˆç”¨æˆ·æœåŠ¡ï¼‰</li>
</ul>
<p>æµ‹è¯•çš„ç«¯ç‚¹æ¥å£ä¸ºï¼šhttp:/login/oauth/tokenã€‚æœåŠ¡ä¹‹é—´çš„è°ƒç”¨é¡ºåºä¸ºï¼šgateway-&gt;auth-Service-&gt;user-Serviceã€‚ç½‘å…³æ”¶åˆ°å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œè½¬å‘è¯·æ±‚åˆ°é‰´æƒæœåŠ¡ï¼Œé‰´æƒæœåŠ¡å¯¹ç”¨æˆ·èº«ä»½çš„æ ¸éªŒæ˜¯é€šè¿‡è°ƒç”¨ç”¨æˆ·æœï¼Œç”¨æˆ·æœåŠ¡ç»™é‰´æƒæœåŠ¡è¿”å›èº«ä»½æ ¡éªŒçš„ç»“æœï¼Œé‰´æƒæœåŠ¡å°†èº«ä»½æˆæƒä¿¡æ¯è¿”å›ç»™gatewayï¼Œgatewayå°†æœ€ç»ˆçš„ç»“æœresponseè¿”å›ç»™å®¢æˆ·ç«¯ã€‚<br>ä¸‰ä¸ªæœåŠ¡å¯åŠ¨åï¼Œé€šè¿‡zipkinç›‘æ§è°ƒç”¨é“¾è·¯ä¿¡æ¯ï¼Œå¯ä»¥çœ‹åˆ°ç¬¬ä¸€æ¬¡å’Œç¬¬äºŒæ¬¡è°ƒç”¨æƒ…å†µå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="http://ovcjgn2x0.bkt.clouddn.com/gw-not-eager.jpg" alt="not-eager-1st" title="é¦–æ¬¡è°ƒç”¨ç«¯ç‚¹"></p>
<p><img src="http://ovcjgn2x0.bkt.clouddn.com/gw-second.jpg" alt="second" title="ç¬¬äºŒæ¬¡è°ƒç”¨ä¿¡æ¯"></p>
<p>é€šè¿‡ä¸Šé¢ä¸¤æ¬¡çš„é“¾è·¯ç›‘æ§ä¿¡æ¯æˆªå›¾ï¼Œå¯ä»¥çœ‹åˆ°ç¬¬ä¸€æ¬¡çš„è€—æ—¶æ˜¯ç¬¬äºŒæ¬¡çš„10å¤šå€ã€‚é‡åˆ°æŸäº›æƒ…å†µï¼Œå¾ˆå¯èƒ½ä¼šå‡ºç°ç¬¬ä¸€æ¬¡è¯·æ±‚çš„è¶…æ—¶ã€‚å»å®˜ç½‘çœ‹äº†ä¸‹ï¼Œä¸»è¦åŸå› æ˜¯zuulç½‘å…³å’Œå„ä¸ªè°ƒç”¨æœåŠ¡ä¹‹é—´çš„Ribbonè¿›è¡Œå®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡çš„Clientæ‡’åŠ è½½ï¼Œå¯¼è‡´ç¬¬ä¸€æ¬¡çš„è¯·æ±‚è°ƒç”¨åŒ…æ‹¬äº†åˆ›å»ºRibbon Clientçš„æ—¶é—´ã€‚é€šè¿‡å¯åŠ¨æ—¥å¿—ä¿¡æ¯å°±å¯ä»¥å‘ç°ï¼š</p>
<p><img src="http://ovcjgn2x0.bkt.clouddn.com/lazy-load.jpg" alt="lazy-load" title="Ribbon å®¢æˆ·ç«¯æ‡’åŠ è½½"></p>
<p>ä¸‹é¢åˆ†ä¸¤éƒ¨åˆ†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸€æ˜¯æœåŠ¡ä¹‹é—´è°ƒç”¨Ribbonçš„é¥¥é¥¿åŠ è½½ï¼Œå¯¹åº”ä¸Šé¢çš„æµ‹è¯•ä¸ºauth-Serviceè°ƒç”¨user-Serviceï¼›äºŒæ˜¯zuulç½‘å…³çš„é¥¥é¥¿åŠ è½½ã€‚</p>
<h2 id="2-ribbonçš„é¥¥é¥¿åŠ è½½"><a href="#2-ribbonçš„é¥¥é¥¿åŠ è½½" class="headerlink" title="2. ribbonçš„é¥¥é¥¿åŠ è½½"></a>2. ribbonçš„é¥¥é¥¿åŠ è½½</h2><p>ç»è¿‡è°ƒæŸ¥å‘ç°ï¼Œé€ æˆç¬¬ä¸€æ¬¡auth-Serviceè°ƒç”¨user-Serviceè€—æ—¶é•¿çš„åŸå› ä¸»è¦æ˜¯ï¼ŒRibbonè¿›è¡Œå®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡çš„æœåŠ¡å®ä¾‹å¹¶ä¸æ˜¯åœ¨æœåŠ¡å¯åŠ¨çš„æ—¶å€™å°±åˆå§‹åŒ–å¥½çš„ï¼Œè€Œæ˜¯åœ¨è°ƒç”¨çš„æ—¶å€™æ‰ä¼šå»åˆ›å»ºç›¸åº”çš„æœåŠ¡å®ä¾‹ã€‚æ‰€ä»¥ç¬¬ä¸€æ¬¡è°ƒç”¨user-Serviceè€—æ—¶ä¸ä»…ä»…åŒ…å«å‘é€HTTPè¯·æ±‚çš„æ—¶é—´ï¼Œè¿˜åŒ…å«äº†åˆ›å»ºRibbon Clientçš„æ—¶é—´ï¼Œè¿™æ ·ä¸€æ¥å¦‚æœåˆ›å»ºæ—¶é—´é€Ÿåº¦è¾ƒæ…¢ï¼ŒåŒæ—¶è®¾ç½®çš„è¯·æ±‚è¶…æ—¶åˆæ¯”è¾ƒçŸ­çš„è¯ï¼Œå¾ˆå®¹æ˜“å°±ä¼šå‡ºç°è€—æ—¶å¾ˆé•¿ç”šè‡³è¶…æ—¶çš„æƒ…å†µã€‚<br>åœ¨å®˜ç½‘å¯ä»¥çœ‹åˆ°å¦‚ä¸‹çš„é…ç½®è¯´æ˜ï¼š</p>
<blockquote>
<p>Each Ribbon named client has a corresponding child Application Context that Spring Cloud maintains, this application context is lazily loaded up on the first request to the named client. This lazy loading behavior can be changed to instead eagerly load up these child Application contexts at startup by specifying the names of the Ribbon clients.</p>
</blockquote>
<p>æ„ä¸ºSpring Cloudä¸ºæ¯ä¸ªRibbonå®¢æˆ·ç«¯ç»´æŠ¤äº†ä¸€ä¸ªç›¸å¯¹çš„å­åº”ç”¨ç¯å¢ƒçš„ä¸Šä¸‹æ–‡ï¼Œåº”ç”¨çš„ä¸Šä¸‹æ–‡åœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚åˆ°æŒ‡å®šå®¢æˆ·ç«¯çš„æ—¶å€™æ‡’åŠ è½½ã€‚ä¸è¿‡å¯ä»¥é€šè¿‡å¦‚ä¸‹é…ç½®è¿›è¡Œä¿®æ”¹ï¼š</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="attr">ribbon:</span></div><div class="line"><span class="attr">  eager-load:</span></div><div class="line"><span class="attr">    enabled:</span> <span class="literal">true</span></div><div class="line"><span class="attr">    clients:</span> <span class="string">client1,</span> <span class="string">client2,</span> <span class="string">client3</span></div></pre></td></tr></table></figure>
<p>æŒ‰ç…§å¦‚ä¸Šçš„é…ç½®ä¹‹åï¼Œå‘ç°é‰´æƒæœåŠ¡å¯åŠ¨æ—¶å°±å°†useræœåŠ¡çš„Ribbonå®¢æˆ·ç«¯è¿›è¡Œäº†åŠ è½½ã€‚</p>
<p><img src="http://ovcjgn2x0.bkt.clouddn.com/eager-load.jpg" alt="el" title="useræœåŠ¡eager load"></p>
<h2 id="3-zuulç½‘å…³çš„é¥¥é¥¿åŠ è½½"><a href="#3-zuulç½‘å…³çš„é¥¥é¥¿åŠ è½½" class="headerlink" title="3. zuulç½‘å…³çš„é¥¥é¥¿åŠ è½½"></a>3. zuulç½‘å…³çš„é¥¥é¥¿åŠ è½½</h2><p>ä¸Šé¢å°èŠ‚è§£å†³äº†auth-Serviceè°ƒç”¨user-Serviceçš„Ribbonå®¢æˆ·ç«¯å¯åŠ¨æ—¶é¥¥é¥¿åŠ è½½ã€‚ç½‘å…³ä½œä¸ºå¯¹å¤–è¯·æ±‚çš„å…¥å£ï¼Œzuulå†…éƒ¨ä½¿ç”¨Ribbonè°ƒç”¨å…¶ä»–æœåŠ¡ï¼ŒSpring Cloudé»˜è®¤åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶æ‡’åŠ è½½Ribbonå®¢æˆ·ç«¯ã€‚zuulåŒæ ·éœ€è¦ç»´æŠ¤ä¸€ä¸ªç›¸å¯¹çš„å­åº”ç”¨ç¯å¢ƒçš„ä¸Šä¸‹æ–‡ï¼Œæ‰€ä»¥ä¹Ÿéœ€è¦å¯åŠ¨æ—¶é¥¥é¥¿åŠ è½½ã€‚</p>
<blockquote>
<p>Zuul internally uses Ribbon for calling the remote urlâ€™s and Ribbon clients are by default lazily loaded up by Spring Cloud on first call. This behavior can be changed for Zuul using the following configuration and will result in the child Ribbon related Application contexts being eagerly loaded up at application startup time.</p>
</blockquote>
<p>å…·ä½“é…ç½®å¦‚ä¸‹ï¼š</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="attr">zuul:</span></div><div class="line"><span class="attr">  ribbon:</span></div><div class="line"><span class="attr">    eager-load:</span></div><div class="line"><span class="attr">      enabled:</span> <span class="literal">true</span></div></pre></td></tr></table></figure>
<p>è‡³æ­¤ï¼Œä¼˜åŒ–å®Œæˆï¼Œå†æ¬¡é‡å¯æœåŠ¡è¿›è¡Œç¬¬ä¸€æ¬¡è¯·æ±‚ï¼Œå‘ç°æƒ…å†µå·²ç»å¥½å¤šäº†ï¼Œå¤§å®¶å¯ä»¥è‡ªå·±åŠ¨æ‰‹å°è¯•æ”¹è¿›ä¸€ä¸‹ã€‚</p>
<h2 id="4-æ€»ç»“"><a href="#4-æ€»ç»“" class="headerlink" title="4. æ€»ç»“"></a>4. æ€»ç»“</h2><p>æœ¬æ–‡ä¸»è¦ä»‹ç»äº†Spring Cloudçš„æœåŠ¡ç¬¬ä¸€æ¬¡è¯·æ±‚è¶…æ—¶çš„ä¼˜åŒ–æ–¹æ³•ã€‚é¦–å…ˆä»‹ç»äº†é—®é¢˜çš„èƒŒæ™¯ï¼Œå¹¶æ’æŸ¥äº†é—®é¢˜é€ æˆçš„åŸå› ï¼Œä¸»è¦æ˜¯Ribbonå®¢æˆ·ç«¯çš„æ‡’åŠ è½½ï¼›ç„¶ååˆ†åˆ«é’ˆå¯¹zuulç½‘å…³å’ŒæœåŠ¡ä¹‹é—´è°ƒç”¨çš„Ribbonå®¢æˆ·ç«¯è¿›è¡Œé…ç½®ï¼Œä½¿å…¶å¯åŠ¨æ—¶ä¾¿åŠ è½½Ribbonå®¢æˆ·ç«¯çš„ç›¸å…³ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚æœ€åæƒ³è¯´çš„æ˜¯ï¼Œhttpè°ƒç”¨æ¯•ç«Ÿè¿˜æ˜¯æ€§èƒ½è¿œä½äºRPCã€‚ã€‚ğŸ™‚</p>
<hr>
<h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><ol>
<li><a href="http://cloud.spring.io/spring-cloud-static/Dalston.SR4/single/spring-cloud.html" target="_blank" rel="external">spring-cloud Dalston.SR4</a></li>
<li><a href="http://blog.didispace.com/spring-cloud-tips-ribbon-eager/" target="_blank" rel="external">Spring Cloudå®æˆ˜å°è´´å£«ï¼šRibbonçš„é¥¥é¥¿åŠ è½½(eager-load)æ¨¡å¼</a></li>
</ol>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://blueskykong.com/2017/11/18/first-timeout/" data-id="cja6jpurl0000ud6qlt9iakcb" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2017/11/20/config-server1/" id="article-nav-newer" class="article-nav-link-wrap">
            <strong class="article-nav-caption">Newer</strong>
            <div class="article-nav-title">
                
                    å¾®æœåŠ¡ä¹‹åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒCloud Config
                
            </div>
        </a>
    
    
        <a href="/2017/11/16/profile/" id="article-nav-older" class="article-nav-link-wrap">
            <strong class="article-nav-caption">Older</strong>
            <div class="article-nav-title">å¾®æœåŠ¡ä¹‹é…ç½®æœåŠ¡å™¨åˆ‡æ¢profile</div>
        </a>
    
</nav>


    
</article>


    
    

</section>
            
                
<aside id="sidebar">
   
        
    <div class="widget-wrap">
        <h3 class="widget-title">recent</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/12/14/aop/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/java/">java</a></p>
                            <p class="item-title"><a href="/2017/12/14/aop/" class="title">æ·±å…¥ç†è§£Spring AOPçš„åŠ¨æ€ä»£ç†</a></p>
                            <p class="item-date"><time datetime="2017-12-13T16:00:00.000Z" itemprop="datePublished">2017-12-14</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/12/10/integration/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/å¾®æœåŠ¡/">å¾®æœåŠ¡</a></p>
                            <p class="item-title"><a href="/2017/12/10/integration/" class="title">å¾®æœåŠ¡æ¶æ„ä¸­æ•´åˆç½‘å…³ã€æƒé™æœåŠ¡</a></p>
                            <p class="item-date"><time datetime="2017-12-09T16:00:00.000Z" itemprop="datePublished">2017-12-10</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/12/05/apm2/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Ops/">Ops</a></p>
                            <p class="item-title"><a href="/2017/12/05/apm2/" class="title">å‡ ç§åˆ†å¸ƒå¼è°ƒç”¨é“¾ç›‘æ§ç»„ä»¶çš„å®è·µä¸æ¯”è¾ƒï¼ˆäºŒï¼‰æ¯”è¾ƒ</a></p>
                            <p class="item-date"><time datetime="2017-12-04T16:00:00.000Z" itemprop="datePublished">2017-12-05</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/11/20/config-server1/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/å¾®æœåŠ¡/">å¾®æœåŠ¡</a></p>
                            <p class="item-title"><a href="/2017/11/20/config-server1/" class="title">å¾®æœåŠ¡ä¹‹åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒCloud Config</a></p>
                            <p class="item-date"><time datetime="2017-11-19T16:00:00.000Z" itemprop="datePublished">2017-11-20</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/11/18/first-timeout/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/å¾®æœåŠ¡/">å¾®æœåŠ¡</a></p>
                            <p class="item-title"><a href="/2017/11/18/first-timeout/" class="title">Spring Cloud æœåŠ¡ç¬¬ä¸€æ¬¡è¯·æ±‚è¶…æ—¶çš„ä¼˜åŒ–</a></p>
                            <p class="item-date"><time datetime="2017-11-17T16:00:00.000Z" itemprop="datePublished">2017-11-18</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">categories</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Note/">Note</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Ops/">Ops</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Security/">Security</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Utils/">Utils</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ä¸­é—´ä»¶/">ä¸­é—´ä»¶</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/å¾®æœåŠ¡/">å¾®æœåŠ¡</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ç®—æ³•/">ç®—æ³•</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/è®¾è®¡æ¨¡å¼/">è®¾è®¡æ¨¡å¼</a><span class="category-list-count">4</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">archives</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a><span class="archive-list-count">1</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">tag cloud</h3>
        <div class="widget tagcloud">
            <a href="/tags/AOP/" style="font-size: 10px;">AOP</a> <a href="/tags/APM/" style="font-size: 12.5px;">APM</a> <a href="/tags/Cluster/" style="font-size: 15px;">Cluster</a> <a href="/tags/Consensus/" style="font-size: 10px;">Consensus</a> <a href="/tags/Docker/" style="font-size: 12.5px;">Docker</a> <a href="/tags/HTTP/" style="font-size: 10px;">HTTP</a> <a href="/tags/HTTP2/" style="font-size: 12.5px;">HTTP2</a> <a href="/tags/HTTPS/" style="font-size: 10px;">HTTPS</a> <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/Jersey/" style="font-size: 12.5px;">Jersey</a> <a href="/tags/Lombok/" style="font-size: 10px;">Lombok</a> <a href="/tags/Maven/" style="font-size: 10px;">Maven</a> <a href="/tags/MongoDB/" style="font-size: 10px;">MongoDB</a> <a href="/tags/OAuth2/" style="font-size: 20px;">OAuth2</a> <a href="/tags/Ops/" style="font-size: 12.5px;">Ops</a> <a href="/tags/REST/" style="font-size: 12.5px;">REST</a> <a href="/tags/Ribbon/" style="font-size: 10px;">Ribbon</a> <a href="/tags/Spring-Boot/" style="font-size: 15px;">Spring Boot</a> <a href="/tags/Spring-Cloud/" style="font-size: 17.5px;">Spring Cloud</a> <a href="/tags/Spring-Security/" style="font-size: 20px;">Spring Security</a> <a href="/tags/Thread/" style="font-size: 10px;">Thread</a> <a href="/tags/cluster/" style="font-size: 10px;">cluster</a> <a href="/tags/consul/" style="font-size: 12.5px;">consul</a> <a href="/tags/gateway/" style="font-size: 12.5px;">gateway</a> <a href="/tags/java/" style="font-size: 12.5px;">java</a> <a href="/tags/mac/" style="font-size: 10px;">mac</a> <a href="/tags/micro-service/" style="font-size: 12.5px;">micro-service</a> <a href="/tags/mq/" style="font-size: 12.5px;">mq</a> <a href="/tags/redis/" style="font-size: 10px;">redis</a> <a href="/tags/snowflake/" style="font-size: 10px;">snowflake</a> <a href="/tags/spring-boot/" style="font-size: 10px;">spring boot</a> <a href="/tags/starter/" style="font-size: 10px;">starter</a> <a href="/tags/swagger/" style="font-size: 10px;">swagger</a> <a href="/tags/utils/" style="font-size: 10px;">utils</a> <a href="/tags/zipkin/" style="font-size: 12.5px;">zipkin</a> <a href="/tags/zuul/" style="font-size: 12.5px;">zuul</a> <a href="/tags/è®¾è®¡æ¨¡å¼/" style="font-size: 17.5px;">è®¾è®¡æ¨¡å¼</a>
        </div>
    </div>

    
        
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">links</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://hexo.io">Hexo</a>
                    </li>
                
            </ul>
        </div>
    </div>


    
    <div id="toTop" class="fa fa-angle-up"></div>
</aside>

            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2017 aoho<br>
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
        </div>
    </div>
</footer>
        


    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>